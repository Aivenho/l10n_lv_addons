<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

	    <!-- hr.contract views -->

        <record id="hr_contract_view_tree_inherit_l10n_lv_hr" model="ir.ui.view">
            <field name="name">hr.contract.view.tree.inherit.l10n</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_contract.hr_contract_view_tree"/>
            <field name="arch" type="xml">
                <field name="employee_id" position="replace">
                    <field name="employee_name"/>
                    <field name="employee_surname"/>
                </field>
                <field name="wage" position="after">
                    <field name="company_id" groups="base.group_multi_company"/>
                </field>          
            </field>
        </record>

        <record id="hr_hr_contract_view_form_13" model="ir.ui.view">
            <field name="name">hr.contract.view.form13</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_contract.hr_contract_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook/page[@name='information']/group/group[@name='duration_group']" position="after">
		            <group name="duties_group" string="Duties">
            	        <field name="main_duties" colspan="2"/>
            	        <field name="additional_duties" colspan="2"/>
            	        <field name="other_terms" colspan="2"/>
		            </group>
                </xpath>          
            </field>    
        </record>

        <record id="hr_contract_view_search_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.contract.view.search</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_contract.hr_contract_view_search"/>
            <field name="arch" type="xml">
                <field name="employee_id" position="after">
                    <field name="company_id" groups="base.group_multi_company"/>
                    <filter name="my_company" string="My Company" domain="[('company_id','=',0)]" context="{'my_company_filter': 1}"/>
                </field>
            </field>
        </record>

        <record id="hr_contract.action_hr_contract" model="ir.actions.act_window">
            <field name="context">{'search_default_my_company': 1, 'search_default_current':1}</field>
        </record>

	    <!-- hr.employee form view -->

        <record id="hr_view_employee_form_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.employee.form.inherit.l10n</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr_contract.hr_hr_employee_view_form2"/>
            <field name="arch" type="xml">

	            <!-- Working Address, Declared Address, Residence Address -->

                <field name="address_id" position="replace">
                    <field name="address_work_id" domain="[('type.id','=',3)]" context="{'default_type': 3}"/>
                </field>

                <field name="address_home_id" position="after">
                    <field name="address_declared_id" domain="[('type.id','=',1)]" context="{'default_type': 1}"/>
                    <field name="address_residence_id" domain="[('type.id','in',[1,2])]" context="{'default_type': 2}"/>
                </field>

                <field name="address_home_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>

	            <!-- Name, Surname -->

                <label for="name" position="attributes">
                    <attribute name="string">Full Name</attribute>
                </label>

                <label for="category_ids" position="before">
		            <group>
		                <field name="employee_name" on_change="onchange_employee_name_surname(employee_name,employee_surname)"/>
		                <field name="employee_surname" on_change="onchange_employee_name_surname(employee_name,employee_surname)"/>
		            </group>
                </label>

                <field name="name" position="attributes">
                    <attribute name="on_change">onchange_name(name)</attribute>
                </field>

	            <!-- Additional fields. -->

                <field name="passport_id" position="after">
                    <field name="passport_issue_date"/>            
                    <field name="passport_expire_date"/>            
                </field>

                <field name="manager" position="after">
		            <field name="introductory_done" groups="base.group_hr_instructor"/>
	            </field>

                <xpath expr="//notebook/page[@string='Personal Information']/group/group[@string='Birth']" position="after">
		            <group string="Contract Information">
            	        <field name="contract_id" groups="base.group_hr_manager,base.group_hr_reader"/>
            	        <field name="contract_date_start" readonly="1" groups="base.group_hr_manager,base.group_hr_reader"/>
		            </group>
                </xpath>

                <xpath expr="//notebook/page[@string='Personal Information']" position="after">
                    <page string="CV" groups="base.group_hr_manager,base.group_hr_reader">
                        <field name="cv_text" nolabel="1"/>
                    </page>
                </xpath>

                <xpath expr="//notebook/page[@string='Personal Information']/group" position="inside">
                    <group string="ID" colspan="4" groups="l10n_lv_hr.group_multiple_emp_id_vat">
                        <field name="identification_ids" nolabel="1" colspan="4">
                            <tree editable="bottom">
                                <field name="country_id"/>
                                <field name="identification_id"/>
                                <field name="vat"/>
                                <field name="comment"/>
                            </tree>
                        </field>
                    </group>
                </xpath>

	            <!-- Removed fields -->

                <field name="otherid" position="replace"/>

                <field name="work_location" position="replace"/>

                <field name="coach_id" position="replace"/>

	            <!-- Field parameters -->

	            <field name="user_id" position="attributes">
	                <attribute name="context">{'default_name': name}</attribute>
	            </field>

                <!-- Security -->

                <label for="category_ids" position="attributes">
                    <attribute name="groups">base.group_hr_user,base.group_hr_reader</attribute>
                </label>

                <field name="category_ids" position="attributes">
                    <attribute name="groups">base.group_hr_user,base.group_hr_reader</attribute>
                </field>

                <page string="Personal Information" position="attributes">
                    <attribute name="groups">base.group_hr_user,base.group_hr_reader</attribute>
                </page>

                <field name="identification_id" position="attributes">
                    <attribute name="groups">base.group_hr_user,base.group_hr_reader</attribute>
                </field>

                <field name="passport_id" position="attributes">
                    <attribute name="groups">base.group_hr_user,base.group_hr_reader</attribute>
                </field>

                <page string="HR Settings" position="attributes">
                    <attribute name="groups">base.group_hr_user,base.group_hr_reader</attribute>
                </page>

            </field>
        </record>

	    <!-- hr.employee tree view -->

        <record id="view_employee_tree_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.employee.tree.inherit.l10n.lv</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_tree"/>
            <field name="arch" type="xml">
                <field name="name" position="replace">
                    <field name="employee_name"/>
	                <field name="employee_surname"/>
                </field>
                <field name="parent_id" position="replace"/>
                <field name="work_phone" position="after">
                    <field name="mobile_phone"/>
                </field>
            </field>
        </record>

	    <!-- hr.employee kanban view -->

        <record id="hr_kanban_view_employees_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.employess.kanban.inherit.l10n.lv</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.hr_kanban_view_employees"/>
            <field name="arch" type="xml">
	            <data>
	                <xpath expr="/kanban/templates/t[@t-name='kanban-box']/div[@class='oe_employee_vignette']/div[@class='oe_employee_details']/h4/a[@type='open']/t[@t-if='record.login.raw_value']" position="attributes">
		                <attribute name="groups">base.group_hr_manager</attribute>
	                </xpath>
	            </data>
	        </field>
        </record>

        <!-- hr.employee search view -->

        <record id="view_employee_filter_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">Employees</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_filter"/>
            <field name="arch" type="xml">
                <field name="category_ids" position="after">
                    <field name="company_id" groups="base.group_multi_company"/>
                    <filter name="my_company" string="My Company" domain="[('company_id','=',0)]" context="{'my_company_filter': 1}"/>
                </field>
            </field>
        </record>

        <!-- Employee opening action -->

        <record id="hr.open_view_employee_list_my" model="ir.actions.act_window">
            <field name="context">{'search_default_my_company': 1}</field>
        </record>

	    <!-- Group access rights for already existing menuitems -->

        <menuitem action="hr_contract.action_hr_contract" id="hr_contract.hr_menu_contract" parent="hr.menu_hr_main" name="Contracts" sequence="4" groups="base.group_hr_manager,base.group_hr_reader"/>

        <menuitem id="hr.menu_hr_configuration" name="Configuration" parent="hr.menu_hr_root" groups="base.group_hr_manager,base.group_hr_reader" sequence="50"/>

	    <!-- Deleting the simple user form in order to create a new user from employee -->

	    <delete model="ir.ui.view" id="base.view_users_simple_form"/>

        <!-- Code for department -->

        <record id="view_department_form_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.department.form.inherit.l10n.lv</field>
            <field name="model">hr.department</field>
            <field name="inherit_id" ref="hr.view_department_form"/>
            <field name="arch" type="xml">

                <field name="name" position="before">
                    <field name="code"/>
                </field>

            </field>
        </record>

        <record id="view_department_tree_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.department.tree.inherit.l10n.lv</field>
            <field name="model">hr.department</field>
            <field name="inherit_id" ref="hr.view_department_tree"/>
            <field name="arch" type="xml">

                <field name="complete_name" position="before">
                    <field name="code"/>
                </field>

            </field>
        </record>

        <record id="view_department_filter_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">hr.department.filter.inherit.l10n.lv</field>
            <field name="model">hr.department</field>
            <field name="inherit_id" ref="hr.view_department_filter"/>
            <field name="arch" type="xml">

                <field name="name" position="before">
                    <field name="code"/>
                </field>

                <field name="manager_id" position="after">
                    <field name="company_id" groups="base.group_multi_company"/>
                    <filter name="my_company" string="My Company" domain="[('company_id','=',0)]" context="{'my_company_filter': 1}"/>
                </field>

            </field>
        </record>

        <record id="hr.open_module_tree_department" model="ir.actions.act_window">
            <field name="context">{'search_default_my_company': 1}</field>
        </record>

    </data>
</openerp>
