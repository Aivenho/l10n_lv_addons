<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record id="account_asset_category_form_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">account.asset.category.form</field>
            <field name="model">account.asset.category</field>
            <field name="inherit_id" ref="account_asset.view_account_asset_category_form"/>
            <field name="arch" type="xml">
<!--                <field name="open_asset" position="after">
                    <field name="next_month" on_change="onchange_next_month(next_month)"/>
                </field>
                <field name="prorata" position="attributes">
					<attribute name="on_change">onchange_prorata(prorata)</attribute>
                </field> -->
                <xpath expr="/form/group/group[@string='Depreciation Dates']" position="replace"/>
                <xpath expr="/form/group/group[@string='Depreciation Method']" position="replace"/>
                <xpath expr="/form/group/group[@string='Analytic Information']" position="replace"/>
                <field name="account_depreciation_id" position="after">
                    <field name="account_depreciation_tax_id"/>
                </field>
                <xpath expr="/form/group" position="inside">
                    <group string="Depreciation Method">
                        <field name="method"/>
                        <field name="method_time"/>
                        <field name="prorata" on_change="onchange_prorata(prorata)"/>
                        <field name="next_month" on_change="onchange_next_month(next_month)"/>
                        <field name="method_number" attrs="{'invisible':[('method_time','=','end')], 'required':[('method_time','=','number')]}"/>
                        <field name="method_period"/>
                        <field name="method_progress_factor" attrs="{'invisible':[('method','=','linear')], 'required':[('method','=','degressive')]}"/>
                        <field name="method_end" attrs="{'required': [('method_time','=','end')], 'invisible':[('method_time','=','number')]}"/>
                        <field name="account_analytic_id" groups="analytic.group_analytic_accounting"/>
                    </group>
                    <group string="Depreciation Method for Taxes">
                        <field name="method_tax"/>
                        <field name="method_time_tax"/>
                        <field name="prorata_tax" on_change="onchange_prorata(prorata)"/>
                        <field name="next_month_tax" on_change="onchange_next_month(next_month)"/>
                        <field name="method_number_tax" attrs="{'invisible':[('method_time_tax','=','end')], 'required':[('method_time_tax','=','number')]}"/>
                        <field name="method_period_tax"/>
                        <field name="method_progress_factor_tax" attrs="{'invisible':[('method_tax','=','linear')], 'required':[('method_tax','=','degressive')]}"/>
                        <field name="method_end_tax" attrs="{'required': [('method_time_tax','=','end')], 'invisible':[('method_time_tax','=','number')]}"/>
                        <field name="account_analytic_tax_id" groups="analytic.group_analytic_accounting"/>
                    </group>
                </xpath>
            </field>
        </record>

        <record id="account_asset_asset_form_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">account.asset.asset.form</field>
            <field name="model">account.asset.asset</field>
            <field name="inherit_id" ref="account_asset.view_account_asset_asset_form"/>
            <field name="arch" type="xml">
<!--                <field name="prorata"  position="after">
                    <field name="next_month" on_change="onchange_next_month(next_month)"/>
                </field>
                <field name="prorata" position="attributes">
					<attribute name="on_change">onchange_prorata(prorata)</attribute>
                </field> -->
                <div class="oe_title" position="attributes">
                    <attribute name="style">width: 100%;</attribute>
                </div>
                <field name="name" position="attributes">
                    <attribute name="class" eval="False"/>
                </field>
                <field name="parent_id" position="after">
                    <group col="2">
                        <field name="start_date"/>
						<field name="confirmation_date"/>
                    	<field name="close_date"/>
					</group>
                </field>
                <xpath expr="//notebook/page[@string='General']/group" position="replace"/>
                <xpath expr="//notebook/page[@string='General']" position="inside">
                    <group>
                        <group>
                            <field name="purchase_value" widget="monetary" options="{'currency_field': 'currency_id'}" on_change="onchange_purchase_salvage_value(purchase_value, salvage_value)"/>
                            <field name="salvage_value" widget="monetary" options="{'currency_field': 'currency_id'}" on_change="onchange_purchase_salvage_value(purchase_value, salvage_value)"/>
                        </group>
                        <group>
                            <field name="partner_id"/>
                        </group>
                    </group>
                    <group>
                        <group string="For Company">
                            <field name="method"/>
                            <label for="method_time"/>
                            <div>
                                <field name="method_time" on_change="onchange_method_time(method_time)" class="oe_inline"/>
                                <button name="%(account_asset.action_asset_modify)d" states="open" string="Change Duration" type="action" icon="terp-stock_effects-object-colorize" class="oe_inline" colspan="1"/>
                            </div>
                            <field name="prorata" attrs="{'invisible': [('method_time','=','end')]}" on_change="onchange_prorata(prorata)"/>
                            <field name="next_month" on_change="onchange_next_month(next_month)"/>
                            <field name="method_number" attrs="{'invisible':[('method_time','=','end')], 'required':[('method_time','=','number')]}"/>
                            <field name="method_period"/>
                            <field name="method_progress_factor" attrs="{'invisible':[('method','=','linear')], 'required':[('method','=','degressive')]}" on_change="onchange_method_progress_factor(method_progress_factor, value_residual, method, method_time, method_period, currency_id, purchase_date, confirmation_date, state, prorata, next_month)"/>
                            <field name="method_end" attrs="{'required': [('method_time','=','end')], 'invisible':[('method_time','=','number')]}"/>
                            <field name="accumulated_depreciation" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="value_residual" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                        </group>
                        <group string="For Taxes">
                            <field name="method_tax"/>
                            <label for="method_time_tax"/>
                            <div>
                                <field name="method_time_tax" on_change="onchange_method_time_tax(method_time_tax)" class="oe_inline"/>
                                <button name="%(action_asset_modify_tax)d" states="open" string="Change Duration" type="action" icon="terp-stock_effects-object-colorize" class="oe_inline" colspan="1"/>
                            </div>
                            <field name="prorata_tax" attrs="{'invisible': [('method_time_tax','=','end')]}" on_change="onchange_prorata_tax(prorata_tax)"/>
                            <field name="next_month_tax" on_change="onchange_next_month_tax(next_month_tax)"/>
                            <field name="method_number_tax" attrs="{'invisible':[('method_time_tax','=','end')], 'required':[('method_time_tax','=','number')]}"/>
                            <field name="method_period_tax"/>
                            <field name="method_progress_factor_tax" attrs="{'invisible':[('method_tax','=','linear')], 'required':[('method_tax','=','degressive')]}" on_change="onchange_method_progress_factor_tax(method_progress_factor_tax, value_residual_tax, method_tax, method_time_tax, method_period_tax, currency_id, purchase_date, confirmation_date, state, prorata_tax, next_month_tax)"/>
                            <field name="method_end_tax" attrs="{'required': [('method_time_tax','=','end')], 'invisible':[('method_time_tax','=','number')]}"/>
                            <field name="accumulated_depreciation_tax" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <field name="value_residual_tax" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                        </group>
                    </group>
                </xpath>
                <button name="compute_depreciation_board" position="after">
                    <group class="oe_subtotal_footer oe_right">
                        <field name="current_depreciation" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                    </group>
                    <separator/>
                </button>
                <page string="Depreciation Board" position="after">
                    <page string="Depreciation Board for Taxes">
                        <field name="depreciation_tax_line_ids">
                            <tree string="Depreciation Tax Lines" colors="blue:(confirmed_check == False);black:(confirmed_check == True)">
                                <field name="depreciation_date"/>
                                <field name="sequence" invisible="1"/>
                                <field name="depreciated_value" readonly="1"/>
                                <field name="amount"/>
                                <field name="remaining_value" readonly="1"/>
                                <field name="confirmed_check"/>
                                <button name="confirm_depreciation" attrs="{'invisible':['|',('confirmed_check','!=',False),('parent_state','!=','open')]}" icon="gtk-apply" string="Confirm" type="object"/>
                                <field name="move_check"/>
                                <field name="parent_state" invisible="1"/>
                                <button name="create_move" attrs="{'invisible':['|',('move_check','!=',False),('parent_state','!=','open')]}" icon="gtk-execute" string="Create Move" type="object"/>
                            </tree>
                            <form string="Depreciation Tax Lines"> 
                                <group>
                                    <group>
                                        <field name="asset_id" invisible="1"/>
                                        <field name="parent_state" invisible="1"/>
                                        <field name="name"/>
                                        <field name="amount"/>
                                        <field name="confirmed_check" attrs="{'invisible': [('confirmed_check','=',False)]}"/>
                                        <field name="move_id"/>
                                        <field name="move_check"/>
                                        <button name="confirm_depreciation" string="Confirm" type="object" icon="gtk-apply" attrs="{'invisible': ['|',('confirmed_check','!=',False),('parent_state','!=','open')]}" colspan="2"/>
                                    </group>
                                    <group>
                                        <field name="sequence"/>
                                        <field name="depreciation_date"/>
                                        <field name="depreciated_value" readonly="1"/>
                                        <field name="remaining_value" readonly="1"/>
                                    </group>
                                </group>
                            </form>
                        </field>
                        <button type="object" name="compute_depreciation_board_tax" string="Compute" icon="terp-stock_format-scientific" colspan="2" attrs="{'invisible':[('state','=','close')]}"/>
                        <group class="oe_subtotal_footer oe_right">
                            <field name="current_depreciation_tax" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                        </group>
                        <separator/>
                    </page>
                </page>
            </field>
        </record>

        <record id="view_account_asset_search_inherit_l10n_lv" model="ir.ui.view">
            <field name="name">account.asset.asset.search</field>
            <field name="model">account.asset.asset</field>
            <field name="inherit_id" ref="account_asset.view_account_asset_search"/>
            <field name="arch" type="xml">
                <field name="partner_id" position="after">
                    <field name="company_id" groups="base.group_multi_company"/>
                    <filter name="my_company" string="My Company" domain="[('company_id','=',0)]" context="{'my_company_filter': 1}"/>
                </field>
            </field>
        </record>

        <record model="ir.ui.view" id="view_account_asset_asset_tree_inherit_l10n_lv">
            <field name="name">account.asset.asset.tree</field>
            <field name="model">account.asset.asset</field>
            <field name="inherit_id" ref="account_asset.view_account_asset_asset_tree"/>
            <field name="arch" type="xml">
                <field name="purchase_value" position="attributes">
                    <attribute name="sum">Purchase</attribute>
                </field>
                <field name="value_residual" position="attributes">
                    <attribute name="sum">Residual</attribute>
                </field>
                <field name="value_residual" position="before">
                    <field name="salvage_value" sum="Salvage"/>
                    <field name="current_depreciation" sum="Current"/>
                </field>
            </field>
        </record>

        <record model="ir.ui.view" id="view_account_asset_history_form_inherit_l10n_lv">
            <field name="name">account.asset.history.form.inherit.l10n.lv</field>
            <field name="model">account.asset.history</field>
            <field name="inherit_id" ref="account_asset.view_account_asset_history_form"/>
            <field name="arch" type="xml">
                <xpath expr="/form/group" position="replace"/>
                <xpath expr="/form/separator[@string='Notes']" position="before">
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="date"/>
                        </group>
                        <group>
                            <field name="user_id"/>
                        </group>
                    </group>
                    <group>
                        <group string="For Company">
                            <field name="method_time"/>
                            <field name="method_number" attrs="{'invisible':[('method_time','=','end')]}"/>
                            <field name="method_period"/>
                            <field name="method_end" attrs="{'invisible':[('method_time','=','number')]}"/>
                        </group>
                        <group string="For Taxes">
                            <field name="method_time_tax"/>
                            <field name="method_number_tax" attrs="{'invisible':[('method_time_tax','=','end')]}"/>
                            <field name="method_period_tax"/>
                            <field name="method_end_tax" attrs="{'invisible':[('method_time_tax','=','number')]}"/>
                        </group>
                    </group>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_account_asset_history_tree_inherit_l10n_lv">
            <field name="name">account.asset.history.tree.inherit.l10n.lv</field>
            <field name="model">account.asset.history</field>
            <field name="inherit_id" ref="account_asset.view_account_asset_history_tree"/>
            <field name="arch" type="xml">
                <field name="method_end" position="after">
                    <field name="method_time_tax" string="Time Method (Tax)"/>
                    <field name="method_number_tax" string="Number of Depreciations (Tax)"/>
                    <field name="method_period_tax" string="Period Length (Tax)"/>
                    <field name="method_end_tax" string="Ending date (Tax)"/>
                </field>
            </field>
        </record>

        <record model="ir.actions.act_window" id="account_asset.action_account_asset_asset_form">
            <field name="context">{'search_default_my_company': 1}</field>
        </record>

    </data>
</openerp>
